<html>

<head>
    <title>Trabalho JQuery Webservice</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="fontawesome/css/all.min.css">
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Adicionando JQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

    <!-- Adicionando Javascript -->
    <script type="text/javascript">
        $(document).ready(function () {
            //Quando o botão é clicado.
            $("#mybtn").click(function () {
                //Nova variável "cep".
                var cep = $("#cep").val();
                //Preenche os campos com "..." enquanto consulta webservice.
                $("#rua").val("...");
                $("#bairro").val("...");
                $("#cidade").val("...");
                $("#uf").val("...");
                $("#ibge").val("...");
                //Consulta o webservice viacep.com.br/
                var url = "https://viacep.com.br/ws/" + cep + "/json/?callback=?";
                $.getJSON(url, function (retorno) {
                    if (!("erro" in retorno)) {
                        //Atualiza os campos com os valores da consulta.
                        $("#rua").val(retorno.logradouro);
                        $("#bairro").val(retorno.bairro);
                        $("#cidade").val(retorno.localidade);
                        $("#uf").val(retorno.uf);
                        $("#ibge").val(retorno.ibge);
                    } //end if.
                    else {
                        //CEP pesquisado não foi encontrado.
                        alert("CEP não encontrado.");
                    }
                });
            });/* FIM DA FUNÇÃO viacep*/

            $("#btn1").click(function () {
                var data1 = $("#data1").val();
                var url = "http://zpfvzz.hospedagemelastica.com.br/netlab/admin/admin.dataextenso.logic?string=" + data1;
                $.getJSON(url, function (retorno) {
                    if (!("erro" in retorno)) {
                        //Atualiza os campos com os valores da consulta.
                        $("#dia").val(retorno.dia);
                        $("#mes").val(retorno.mes);
                        $("#ano").val(retorno.ano);
                        $("#extenso").val(retorno.extenso);
                    } //end if.
                    else {
                        alert("Erro");
                    }
                });
            });/* FIM DA FUNÇÃO dataextenso*/


            $("#somaData").click(function () {
                var sdata = $("#sdata").val();
                var somar = $("#somar").val();
                var url = `http://zpfvzz.hospedagemelastica.com.br/netlab/admin/admin.datasoma.logic?string=${sdata};${somar}`;
                $.getJSON(url, function (retorno) {
                    if (!("erro" in retorno)) {
                        //Atualiza os campos com os valores da consulta.
                        $("#dia").val(retorno.dia);
                        $("#mes").val(retorno.mes);
                        $("#ano").val(retorno.ano);
                        $("#extenso").val(retorno.extenso);
                    } //end if.
                    else {
                        alert("Erro");
                    }
                });
            });/* FIM DA FUNÇÃO data adição*/

            $("#difData").click(function () {
                var miData = $("#miData").val();
                var subData = $("#subData").val();
                var url = `http://zpfvzz.hospedagemelastica.com.br/netlab/admin/admin.datadiferenca.logic?string=${miData};${subData}`;
                $.getJSON(url, function (retorno) {
                    if (!("erro" in retorno)) {
                        //Atualiza os campos com os valores da consulta.
                        $("#difer").val(retorno.diferenca);
                    } //end if.
                    else {
                        alert("Erro");
                    }
                });
            });/* FIM DA FUNÇÃO data diferença*/

            $("#btnConv").click(function () {
                var dataConv = $("#dataConv").val();
                var url = `http://zpfvzz.hospedagemelastica.com.br/netlab/admin/admin.dataconverte.logic?string=${dataConv}`;
                $.getJSON(url, function (retorno) {
                    if (!("erro" in retorno)) {
                        //Atualiza os campos com os valores da consulta.
                        $("#convert").val(retorno.dataconvertida);
                    } //end if.
                    else {
                        alert("Erro");
                    }
                });
            });/* FIM DA FUNÇÃO data convertida*/

        }); /* FIM DA FUNÇÃO ready*/

    </script>
</head>

<body>

    <div class="container mt-5">

    <!-- Inicio do formulario -->
                 
    </div>

    <div>
        <hr>
        <h1>Data Soma</h1>
        <div>Recebe uma data no formato dd/mm/aaaa e um número inteiro. Retorna a data correspondente a soma desse
            número com data informada.</div>

        <div>URL Exemplo:<a target="_blank"
                href="http://zpfvzz.hospedagemelastica.com.br/netlab/admin/admin.datasoma.logic?string=21/12/2022;10">
                http://zpfvzz.hospedagemelastica.com.br/netlab/admin/admin.datasoma.logic?string=21/12/2022;10</a></div>

        <div>Onde 21/12/2022 e 10 são os parâmetros passados separados por ; </div>
        <br>
        <label><strong> Entre com a data:</strong>
            <input type="text" id="sdata" placeholder="dd/mm/aaaa" size="10" maxlength="10" />
        </label><br>
        <label><strong>Adicionar dias a data:</strong>
            <input type="number" id="somar" size="10" maxlength="10" />
        </label><br>
        <button class="btn btn-primary" id="somaData"><i class="fa-solid fa-hand-pointer"></i>Clique aqui para adicionar</button>
        <br />
        <hr>
           <div>
            <!-- INPUTS E BOTÕES -->
            
                <label><strong>Dia:</strong><br />
                <input name="dia" type="text" id="dia" size="40" /></label><br />
            <label><strong>Mês</strong><br />
                <input name="mes" type="text" id="mes" size="40" /></label><br />
            <label><strong>Ano:</strong><br />
                <input name="ano" type="text" id="ano" size="40" /></label><br />
            <label><strong>Extenso:</strong><br />
                <input name="extenso" type="text" id="extenso" size="40" /></label><br />


    </div>


    <br><br>


    </div>
</body>

</html>
